(()=>{document.addEventListener("DOMContentLoaded",function(){let d=document.querySelectorAll(".video-slide"),y=document.querySelectorAll(".indicator"),W=document.getElementById("heroPrevBtn"),H=document.getElementById("heroNextBtn"),C=document.querySelector(".progress-bar"),r=0,c=!1,E,m,p=0,h=0,L=!1,t=document.getElementById("videoTooltip"),s=document.querySelector(".video-slider-container");function X(){d.forEach(e=>{e.classList.remove("active");let n=e.querySelector("video");n&&(n.pause(),n.currentTime=0)}),y.forEach(e=>{e.classList.remove("active")})}function w(e){X(),e>=d.length?r=0:e<0?r=d.length-1:r=e;let n=d[r],o=n.querySelector("video");n.classList.add("active"),y[r].classList.add("active"),p=parseInt(n.dataset.duration)||15,h=0,j(),o&&o.play().then(()=>{c=!0,L=!0,a(),u()}).catch(i=>{console.log("Video autoplay failed:",i),r===0&&!L?(c=!1,D()):(a(),u())})}function a(){clearInterval(m),m=setInterval(()=>{h+=.1;let e=h/p*100;C.style.width=Math.min(e,100)+"%",h>=p&&clearInterval(m)},100)}function j(){clearInterval(m),C.style.width="0%",h=0}function u(){clearInterval(E),E=setTimeout(()=>{g()},p*1e3)}function g(){w(r+1)}function M(){w(r-1)}function k(){clearInterval(E),clearInterval(m);let e=d[r].querySelector("video");e&&e.pause(),c=!1,t&&L&&(t.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 18V6l8 6-8 6Z"/></svg>')}function S(){if(!c){let e=d[r].querySelector("video");e&&e.play().then(()=>{c=!0,a(),u()}).catch(()=>{a(),u()}),t&&L&&(t.textContent="Videoyu durdurmak i\xE7in \xE7ift t\u0131klay\u0131n",setTimeout(()=>{t.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6"/></svg>'},3e3))}}H.addEventListener("click",()=>{g()}),W.addEventListener("click",()=>{M()}),y.forEach((e,n)=>{e.addEventListener("click",()=>{w(n)})}),s.addEventListener("dblclick",k),s.addEventListener("click",S),d.forEach((e,n)=>{let o=e.querySelector("video");o&&(o.addEventListener("ended",()=>{n===r&&g()}),o.addEventListener("timeupdate",()=>{n===r&&o.duration>0&&o.currentTime/o.duration*100>=99&&setTimeout(()=>{n===r&&g()},500)}))}),document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?M():e.key==="ArrowRight"?g():e.key===" "&&(e.preventDefault(),c?k():S())}),document.addEventListener("visibilitychange",()=>{document.hidden?k():S()}),window.addEventListener("resize",()=>{let e=d[r].querySelector("video");e&&(e.style.width="100%",e.style.height="100%")});function D(){N();let e=()=>{L=!0;let o=d[r].querySelector("video");O(),o&&o.play().then(()=>{c=!0,a(),u()}).catch(()=>{a(),u()}),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("touchstart",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}function N(){t&&s&&(t.classList.remove("hidden"),t.classList.add("visible"),s.addEventListener("mousemove",b),s.addEventListener("mouseenter",V),s.addEventListener("mouseleave",P))}function Z(){t&&s&&(t.classList.remove("visible"),t.classList.add("hidden"),s.removeEventListener("mousemove",b),s.removeEventListener("mouseenter",V),s.removeEventListener("mouseleave",P))}function O(){t&&(t.textContent="Videoyu durdurmak i\xE7in \xE7ift t\u0131klay\u0131n",setTimeout(()=>{t.innerHTML='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6"/></svg>'},3e3))}function b(e){if(t){if(e.target.closest(".hero-content")){t.classList.remove("visible"),t.classList.add("hidden");return}else t.classList.remove("hidden"),t.classList.add("visible");let o=8,i=-25;t.style.left=e.clientX+o+"px",t.style.top=e.clientY+i+"px"}}function V(e){if(t){if(e.target.closest(".hero-content"))return;t.classList.remove("hidden"),t.classList.add("visible")}}function P(){t&&(t.classList.remove("visible"),t.classList.add("hidden"))}w(0);let I=document.getElementById("referenceItemsWrapper");if(I){let x=function(){let l=window.innerWidth;return l>=1400?6:l>=1200?5:l>=992?4:l>=768?3:l>=576?2:1},z=function(){let l=I.parentElement.offsetWidth,q=32,R=x();return(l+q)/R},f=function(){let l=z(),q=i*l;I.style.transform=`translateX(-${q}px)`,e.disabled=i===0,n.disabled=i>=v},U=function(){i<v&&(i++,f())},Y=function(){i>0&&(i--,f())},e=document.getElementById("prevBtn"),n=document.getElementById("nextBtn"),o=document.querySelectorAll(".reference-item"),i=0,B=x(),v=Math.max(0,o.length-B);n&&n.addEventListener("click",U),e&&e.addEventListener("click",Y);let A=setInterval(()=>{i>=v?i=0:i++,f()},4e3),T=document.querySelector(".references-slider-container");T&&(T.addEventListener("mouseenter",()=>{clearInterval(A)}),T.addEventListener("mouseleave",()=>{A=setInterval(()=>{i>=v?i=0:i++,f()},4e3)})),window.addEventListener("resize",()=>{B=x(),v=Math.max(0,o.length-B),i=Math.min(i,v),f()}),o.length>0&&f()}});})();
